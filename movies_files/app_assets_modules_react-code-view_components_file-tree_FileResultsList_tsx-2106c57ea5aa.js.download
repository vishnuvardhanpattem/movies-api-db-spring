"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_react-code-view_components_file-tree_FileResultsList_tsx"],{95475:(e,t,n)=>{function r(e){let t=e.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(t){if(1===t.length){let e=s(t[0]);if(!e)return;return Object.freeze({start:e,end:e})}if(2!==t.length)return;{let e=s(t[0]),n=s(t[1]);if(!e||!n)return;return c(Object.freeze({start:e,end:n}))}}}function l(e){let{start:t,end:n}=c(e);return null!=t.column&&null!=n.column?`L${t.line}C${t.column}-L${n.line}C${n.column}`:null!=t.column?`L${t.line}C${t.column}-L${n.line}`:null!=n.column?`L${t.line}-L${n.line}C${n.column}`:t.line===n.line?`L${t.line}`:`L${t.line}-L${n.line}`}function i(e){let t=r(e),n=function(e){let t=e.length<5e3&&e.match(/(file-.+?-)L\d+?/i);return t?t[1]:""}(e);return{blobRange:t,anchorPrefix:n}}function o({anchorPrefix:e,blobRange:t}){return t?`#${e}${l(t)}`:"#"}function s(e){let t=e.match(/L(\d+)/),n=e.match(/C(\d+)/);return t?Object.freeze({line:parseInt(t[1]),column:n?parseInt(n[1]):null}):null}function u(e,t){let[n,r]=a(e.start,!0,t),[l,i]=a(e.end,!1,t);if(!n||!l)return;let o=r,s=i;if(-1===o&&(o=0),-1===s&&(s=l.childNodes.length),!n.ownerDocument)throw Error("DOMRange needs to be inside document");let u=n.ownerDocument.createRange();return u.setStart(n,o),u.setEnd(l,s),u}function a(e,t,n){let r=[null,0],l=n(e.line);if(!l)return r;if(null==e.column)return[l,-1];let i=e.column-1,o=function e(t){if(t.nodeType===Node.TEXT_NODE)return[t];if(!t.childNodes||!t.childNodes.length)return[];let n=[];for(let r of t.childNodes)n=n.concat(e(r));return n}(l);for(let e=0;e<o.length;e++){let n=o[e],r=i-(n.textContent||"").length;if(0===r){let r=o[e+1];if(t&&r)return[r,0];return[n,i]}if(r<0)return[n,i];i=r}return r}function c(e){let t=[e.start,e.end];return(t.sort(d),t[0]===e.start&&t[1]===e.end)?e:Object.freeze({start:t[0],end:t[1]})}function d(e,t){return e.line===t.line&&e.column===t.column?0:e.line===t.line&&"number"==typeof e.column&&"number"==typeof t.column?e.column-t.column:e.line-t.line}n.d(t,{Dw:()=>o,G5:()=>r,M9:()=>u,g1:()=>l,n6:()=>i})},68912:(e,t,n)=>{n.d(t,{G:()=>u});var r=n(46263),l=n(46565),i=n(63451),o=n(67294),s=n(89250);function u(e,t=20){let[n,u]=(0,o.useState)(t),a=(0,o.useRef)(t),c=(0,l.O)().codeWrappingOption,d=(0,s.TH)();return(0,i.b)(()=>{let n=document.getElementById("file-name-id-wide");if(!n)return;let l=new ResizeObserver((0,r.D)(()=>{let n=document.getElementsByClassName(e)[0]?.firstChild?.getBoundingClientRect().height??t;0===n||n===a.current||c.enabled||(u(n),a.current=n)}));return l.observe(n),()=>l.disconnect()},[d.key,c.enabled,e,t]),n}},23239:(e,t,n)=>{n.d(t,{NC:()=>L,O$:()=>v,RP:()=>M,Sg:()=>p,Tw:()=>R,gk:()=>j,i$:()=>S,jn:()=>g,nJ:()=>k,nj:()=>N,rU:()=>b});var r=n(4181),l=n(34449),i=n(15631),o=n(46565),s=n(20679),u=n(67294),a=n(89250),c=n(95475),d=n(64227),f=n(37086),h=n(68912),m=n(78135);let p=7.2293,g=92,v=92,b=70,w=new r.fA(1),y=new r.fA(0),x=new r.fA(1),C=new r.fA(0),E=new r.fA(!1);function R(){return(0,l.iu)(w)}function S(){return(0,l.iu)(x)}function k(){return(0,l.iu)(E)}function j(){let e=(0,u.useRef)(null);function t(){e.current={start:{line:w.value,column:y.value+1},end:{line:x.value,column:C.value+1}}}return(0,l.mU)(w,t),(0,l.mU)(y,t),(0,l.mU)(x,t),(0,l.mU)(C,t),e}function L(e){E.value=e}function N(e){let t=(0,o.O)().codeWrappingOption.enabled,n=!!(0,f.Q)(),[r]=(0,i.D)(()=>!1,!0,[]);return!t&&!n&&!e&&!r}function M(e,t,n,r,l,i,o,f,R,S,k,j){let L=(0,u.useRef)(0),N=(0,u.useRef)(0),M=(0,u.useRef)(0),O=(0,u.useRef)(0),$=(0,u.useRef)(0),B=(0,u.useRef)(0),T=(0,u.useRef)(null),F=(0,u.useRef)(0),I=(0,u.useRef)(0),A=(0,u.useRef)(15),W=(0,u.useRef)(0),D=o?v:g,H=(0,s.f)(["windows"]),Z=H?6.6:p,_=(0,h.G)("react-code-lines"),V=(0,u.useMemo)(()=>{let e=[];for(let t=0;t<l.length;t++)0===t?e.push(l[t].rawText?.length??0):e.push((l[t].rawText?.length??0)+e[t-1]+1);return e},[l]);function P(e,t){n(e),B.current=t}function z(e,t){r(e),$.current=t}let G=(0,u.useCallback)(e=>{let t=w.value!==x.value,n={start:{line:w.value,column:t?y.value+1:null},end:{line:x.value,column:t?C.value+1:null}},r={anchorPrefix:"L",blobRange:{start:n.start,end:n.end}},l=(0,c.Dw)(r);window.location.hash=l,f?.(e)},[f]),{hash:U}=(0,a.TH)();function q(e){let t=0,n=0,r=0,l=0,i=0,o=0,s=V.length-1;for(;o<=s;){let u=Math.floor((o+s)/2);if(r=V[u]+1,l=u>0?V[u-1]+1:0,i=u<V.length-1?V[u+1]+1:1/0,e>=l&&e<r){t=u,n=e-l;break}if(e<l)s=u-1;else if(e>=r&&e<i){t=u+1,n=e-r;break}else e>=i&&(o=u+1)}return{line:t,offset:n}}function K(e,t,n,r,l){L.current=e,N.current=n,M.current=t,O.current=r,$.current=l?e:t,B.current=l?n:r,w.value=eo(e),y.value=n,x.value=eo(t),C.value=r}function Q(){return L.current===$.current&&N.current===B.current&&(L.current!==M.current||N.current!==O.current)?"start":M.current===$.current&&O.current===B.current&&(L.current!==M.current||N.current!==O.current)?"end":"same"}function X(){if(R&&R.current){let e=R.current,t=L.current-1,n=M.current-1,r=(-1!==t?V[t]+1:0)+N.current,l=(-1!==n?V[n]+1:0)+O.current;e.selectionStart=r,e.selectionEnd=l,I.current=r,W.current=l}}function Y(){er();let e=L.current,t=N.current;e+A.current>l.length?e=l.length-1:e+=A.current,t=et(e,t),L.current=e,N.current=t,ee(),z(e*_,e),el(b)}function J(){er();let e=L.current,t=N.current;e<A.current?e=0:e-=A.current,t=et(e,t),L.current=e,N.current=t,ee(),z(e*_,e),el(b)}function ee(){M.current=L.current,O.current=N.current}function et(e,t){let n=t;if(e>l.length||!l[e])return n;let r=l[e].rawText;return r&&(t>r.length?(n=r.length,P((0,d.VC)(n,r,S),n)):n<F.current&&F.current<r.length?(n=F.current,P((0,d.VC)(n,r,S),n)):n<F.current&&F.current>=r.length&&(n=r.length,P((0,d.VC)(n,r,S),n))),n}function en(){let e=l[$.current];if(!e)return;let{rawText:n,stylingDirectivesLine:r}=e;if(!n||!r)return;let i=null;for(let e of r){if(e.start>B.current||e.end<B.current||!e.cssClass)continue;i=e;let t=(0,d.yk)(n.substring(e.start,e.end),e.cssClass);if(!t)return}i&&t?.({selectedText:n.substring(i.start,i.end),lineNumber:eo($.current),offset:i.start})}function er(){T.current||(i?T.current=e.current?.parentElement?.parentElement:T.current=e.current?.parentElement)}function el(e){T.current&&(ei(),function(e){let t=Q(),n=N.current;"end"===t&&(n=O.current),T.current&&T.current.scrollBy&&(n*Z+D+50>=T.current.scrollLeft+T.current.clientWidth?T.current.scrollBy(n*Z+D-T.current.scrollLeft-T.current.clientWidth+e,0):n*Z+D<=T.current.scrollLeft&&T.current.scrollBy(n*Z+D-T.current.scrollLeft-T.current.clientWidth,0))}(e)),X()}function ei(){let e=Q(),t=N.current,n=L.current;"end"===e&&(t=O.current,n=M.current);let r=Math.min(eo(n+5),l.length);if(!(0,d.nB)(r)){let e=(0,d.Hm)(r);null===e&&window.scrollTo(0,n*_),e&&e.getBoundingClientRect().y<0||e&&e.getBoundingClientRect().y>window.innerHeight?(e.scrollIntoView({block:"center"}),window.scrollBy(-300,0)):e&&window.scrollBy(0,100);let l=window.innerWidth;l<t*Z+D&&window.scrollTo(0,0)}let i=Math.max(eo(n-5),1);if((0,d.nB)(i))n<=7&&window.scrollTo(0,0);else{let e=(0,d.Hm)(i);null===e&&window.scrollTo(0,n*_),e&&e.getBoundingClientRect().y<0||e&&e.getBoundingClientRect().y>window.innerHeight?(e.scrollIntoView({block:"center"}),window.scrollBy(-300,0)):e&&window.scrollBy(0,-200)}}function eo(e){return l[e]?l[e].lineNumber:e}return(0,u.useEffect)(()=>{let e=window.innerHeight-200>300?window.innerHeight-200:300,t=Math.round(e/_);A.current=Math.min(Math.max(t,1),100)},[_]),(0,u.useEffect)(()=>{k&&""!==k&&(k.includes("PageUp")?J():k.includes("PageDown")&&Y())},[k]),(0,u.useEffect)(()=>{if(!j||j.start<0&&j.end<0||I.current===j.start&&W.current===j.end)return;let e=q(j.start),t=q(j.end);(I.current!==j.start||W.current===j.end)&&(j.keyboard||j.displayStart)?(P((0,d.VC)(e.offset,l[e.line]?.rawText??"",S),e.offset),F.current=e.offset,z(e.line*_,e.line),K(e.line,t.line,e.offset,t.offset,!0)):(P((0,d.VC)(t.offset,l[t.line]?.rawText??"",S),t.offset),F.current=t.offset,z(t.line*_,t.line),K(e.line,t.line,e.offset,t.offset,!1)),W.current=j.end,I.current=j.start,j.end!==j.start||j.keyboard||(E.value=!1,en()),$.current<=5&&j.keyboard&&ei()},[l,S,j]),(0,u.useEffect)(()=>{let e=(0,c.n6)(U);if(!e.blobRange?.start?.line||e.blobRange.start.line>l.length)return;let t=e.blobRange.start.line-1;L.current=t,w.value=t,y.value=0,x.value=t,C.value=0,N.current=0,M.current=t,O.current=0,F.current=0,P(N.current,N.current),z(L.current*_,L.current),el(b)},[U,l,n,r]),{onEnter:function(){E.value=!0,(0,m.gZ)(),en()},updateUrlForLineNumber:G,onPageDown:Y,onPageUp:J,currentStartLine:L,currentStartChar:N,currentEndLine:M,currentEndChar:O,determineAndSetTextAreaCursorPosition:X,getCorrectLineNumberWithCollapsedSections:eo}}},78135:(e,t,n)=>{n.d(t,{Sl:()=>i,eS:()=>s,gZ:()=>o});var r=n(67294);let l="react_blob_view_focus_symbol_pane";function i(e){let t=(0,r.useRef)(e);(0,r.useEffect)(()=>{t.current=e},[e]),(0,r.useEffect)(()=>{let t=t=>{e(t.detail?.focusSymbolSearch||!1)};return window.addEventListener(l,t),()=>{window.removeEventListener(l,t)}},[e])}function o(){window.dispatchEvent(new CustomEvent(l))}function s(){window.dispatchEvent(new CustomEvent(l,{detail:{focusSymbolSearch:!0}}))}},64227:(e,t,n)=>{n.d(t,{BS:()=>N,Bx:()=>M,DD:()=>b,H1:()=>m,Hm:()=>L,KG:()=>c,PO:()=>p,TX:()=>g,VC:()=>S,Yo:()=>x,bP:()=>k,d5:()=>f,dM:()=>O,jP:()=>R,nB:()=>j,rH:()=>y,yk:()=>E,yw:()=>w});var r=n(4181),l=n(34449),i=n(71207),o=n(95475),s=n(81181),u=n(23239);let a="collapse-show-rows-styles",c="read-only-cursor-text-area";function d(e,t){return document.querySelector(`#${e}LC${t}`)}function f(e,t){return document.querySelector(`main #${(0,s.o)(e,t)}`)}let h=new r.n7;function m(e){return(0,l.iu)(h.has(e))}function p(e){return(0,l.mU)(h,e)}function g(e,t,n,r){if(!r)return"";let l="";for(let t=0;t<e.length;t++)l+=`${v(e[t].startLine)} `;if(n&&r.has(t)){let e=r.get(t);if(e)for(let t=0;t<e.length;t++)l+=`${v(e[t].startLine)} `}return l}function v(e){return`child-of-line-${e}`}function b(e,t,n,r){if(!n)return;let l=n.get(t);if(l)for(let n of l){let l=e.get(n.endLine);if(l)for(let e of l)t>e.lineNumber&&r(e,!1)}}function w(e){C(e,!1),h.delete(e)}function y(e){C(e,!0),h.add(e)}function x(){let e=document.getElementById(a);e&&(e.textContent=""),h.clear()}function C(e,t){let n=`.${v(e)} { display: none; } `;if(document.getElementById(a)){let e=document.getElementById(a);if(t)e.textContent+=n;else{let t=e?.textContent||"";t=t.replace(n,""),e.textContent=t}}else{let e=document.createElement("style");e.id=a,e.textContent=n,document.head.appendChild(e)}}function E(e,t){if(e.length<3)return!1;let n=t.split(" "),r=n.includes("pl-ent")?/\n|\s|[();&.=,]/:/\n|\s|[();&.=",]/;return!(e.match(r)||n.includes("pl-c")||n.includes("pl-k"))}function R(e,t){let n=null,r=null,l=null,i=t;if(e.parentElement?.classList.contains("react-file-line"))n=e.parentElement.getAttribute("data-line-number"),r=e.parentElement,l=e;else if(e.parentElement?.parentElement?.classList.contains("react-file-line"))n=e.parentElement.parentElement.getAttribute("data-line-number"),r=e.parentElement.parentElement,l=e.parentNode;else{if(!e.parentElement?.firstElementChild?.classList.contains("react-file-line")||!(n=e.parentElement.firstElementChild.getAttribute("data-line-number"))||!parseInt(n,10))return;return{line:parseInt(n,10)-1,column:null}}if(n&&parseInt(n,10)){for(let e of r.childNodes){if(e===l)break;i+=e.textContent?.length||0}return{line:parseInt(n,10),column:0!==i?i+1:null}}}function S(e,t,n){let r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily="ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",r.style.fontSize="12px",r.style.lineHeight="20px",r.style.whiteSpace="pre",r.style.tabSize=n.toString(),r.textContent=t.slice(0,e),document.body.appendChild(r);let l=r.clientWidth;return(document.body.removeChild(r),0===l&&0!==e)?e*u.Sg:l}function k(e,t,n,r,l){if(e?.start.line===n&&e?.start.column!==null){let i=(0,o.M9)({start:e.start,end:{line:e.start.line,column:e.end.line===n?e.end.column:null}},()=>t);if(i&&i.startContainer.parentElement){let r=i?.getBoundingClientRect().x-t.getBoundingClientRect().x;return{offset:r+10,width:e.end.line===n?i.getBoundingClientRect().width:void 0}}if(l){let t=S(e.start.column-1,l,r),i=e.end.line===n?e.end.column:null;return{offset:t+20,width:e.end.line===n?S(i?i-1:l.length-1,l,r)-t:void 0}}}else if(e?.end.line===n&&e?.end.column!==null){let n=(0,o.M9)({start:{line:e.end.line,column:0},end:e.end},()=>t);return n?{width:n.getBoundingClientRect().width+10}:{width:S(e.end.column-1,l,r)+10}}}function j(e){let t=d("",e);return function(e){if(!e)return!1;let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(t)}function L(e){return d("",e)}function N(e,t,n){return Math.floor((e-t)/n)+1}function M(e,t){let n=0,r=t.length-1;for(;n<=r;){let l=Math.floor((n+r)/2),i=t[l];if(!i)break;if(i.lineNumber===e)return l;i.lineNumber<e?n=l+1:r=l-1}return -1}function O(e,t=0){if(void 0===i.n4)return;let n=i.n4.getElementById("screenReaderAnnouncementDiv");if(n||function(){if(void 0===i.n4)return;let e=i.n4.createElement("div");e.classList.add("sr-only"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),i.n4.body.appendChild(e)}(),!(n=i.n4.getElementById("screenReaderAnnouncementDiv")))return;let r=n.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{n&&(n.textContent=r)},t)}},87294:(e,t,n)=>{n.d(t,{V:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){try{this.worker=new Worker(e)}catch(e){console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){this.job=e,this.terminated=!1}}},4181:(e,t,n)=>{function r(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function l(e,t){var n=r(e,t,"get");return n.get?n.get.call(e):n.value}function i(e,t,n){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function o(e,t,n){var l=r(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,l,n),n}n.d(t,{fA:()=>ObservableValue,n7:()=>ObservableSet,vP:()=>ObservableMap});var s=new WeakMap;let u=class ObservableBase{subscribe(e){return l(this,s).add(e),()=>{l(this,s).delete(e)}}notify(e){for(let t of l(this,s))t(e)}constructor(){i(this,s,{writable:!0,value:void 0}),o(this,s,new Set)}};var a=new WeakMap;let ObservableValue=class ObservableValue extends u{get value(){return l(this,a)}set value(e){l(this,a)!==e&&(o(this,a,e),this.notify(e))}constructor(e){super(),i(this,a,{writable:!0,value:void 0}),o(this,a,e)}};var c=new WeakMap,d=new WeakMap;let ObservableSet=class ObservableSet extends u{get value(){return l(this,c)}has(e){if(!l(this,d).has(e)){let t=new ObservableValue(l(this,c).has(e));l(this,d).set(e,t)}return l(this,d).get(e)}add(e){l(this,c).has(e)||(l(this,c).add(e),l(this,d).has(e)&&(l(this,d).get(e).value=!0),this.notify(l(this,c)))}delete(e){l(this,c).has(e)&&(l(this,c).delete(e),l(this,d).has(e)&&(l(this,d).get(e).value=!1),this.notify(l(this,c)))}clear(){if(0!==l(this,c).size){for(let e of(l(this,c).clear(),l(this,d).values()))e.value=!1;this.notify(l(this,c))}}constructor(...e){super(),i(this,c,{writable:!0,value:void 0}),i(this,d,{writable:!0,value:void 0}),o(this,d,new Map),o(this,c,new Set(...e))}};var f=new WeakMap,h=new WeakMap,m=new WeakMap;let ObservableMap=class ObservableMap extends u{get value(){return l(this,f)}has(e){if(!l(this,h).has(e)){let t=new ObservableValue(l(this,f).has(e));l(this,h).set(e,t)}return l(this,h).get(e)}get(e){if(!l(this,m).has(e)){let t=new ObservableValue(l(this,f).get(e));l(this,m).set(e,t)}return l(this,m).get(e)}set(e,t){l(this,f).get(e)!==t&&(l(this,f).set(e,t),l(this,h).has(e)&&(l(this,h).get(e).value=!0),l(this,m).has(e)&&(l(this,m).get(e).value=t),this.notify(l(this,f)))}delete(e){l(this,f).has(e)&&(l(this,f).delete(e),l(this,h).has(e)&&(l(this,h).get(e).value=!1),l(this,m).has(e)&&(l(this,m).get(e).value=void 0),this.notify(l(this,f)))}clear(){if(0!==l(this,f).size){for(let e of(l(this,f).clear(),l(this,h).values()))e.value=!1;for(let e of l(this,m).values())e.value=void 0;this.notify(l(this,f))}}constructor(...e){super(),i(this,f,{writable:!0,value:void 0}),i(this,h,{writable:!0,value:void 0}),i(this,m,{writable:!0,value:void 0}),o(this,h,new Map),o(this,m,new Map),o(this,f,new Map(...e))}}},34449:(e,t,n)=>{n.d(t,{D_:()=>a,Kq:()=>o,iu:()=>u,mU:()=>s,yL:()=>i});var r=n(67294),l=n(4181);function i(e){let t=(0,r.useRef)(new l.fA(e));return t.current}function o(...e){let t=(0,r.useRef)(new l.vP(...e));return t.current}function s(e,t){let n=(0,r.useRef)(t);n.current=t,(0,r.useEffect)(()=>e.subscribe(e=>n.current(e)),[e])}function u(e){let[t,n]=(0,r.useState)(e.value);return s(e,e=>n(e)),t}function a(e,t){let n=i(t(e.value));return s(e,e=>{n.value=t(e)}),n}},77536:(e,t,n)=>{n.d(t,{P:()=>l});var r=n(85893);function l({buttonFocusId:e,buttonHotkey:t,onButtonClick:n,buttonTestLabel:l,onlyAddHotkeyScopeButton:i}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{hidden:!0,"data-testid":l||"","data-hotkey":t,onClick:n,"data-hotkey-scope":e}),!i&&(0,r.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:n})]})}try{l.displayName||(l.displayName="DuplicateOnKeydownButton")}catch{}},81181:(e,t,n)=>{n.d(t,{R:()=>o,o:()=>s});var r=n(85893),l=n(46565),i=n(97011);function o({symbols:e,focusedSymbol:t,lineNumber:n,sx:o,isNotUsingWhitespace:u}){let a=0,c=`overlay-${n}-${o?"blob":"panel"}`,d=e.length>0?e[0].bodyText:"",f=(0,l.O)().codeWrappingOption,h=e.length>0&&!u?e[0].leadingWhitespace??0:0;return(0,r.jsxs)(i.Z,{sx:{mb:"-20px",color:"transparent",position:"absolute",overflowWrap:f.enabled?"anywhere":"unset",maxWidth:f.enabled?"100%":"unset",maxHeight:"6rem",overflow:"hidden",width:"100%",display:"inline-block",userSelect:"none",...o},children:[e.map(e=>{let n=(0,r.jsxs)("span",{children:[(0,r.jsx)(i.Z,{sx:{userSelect:"none",visibility:"hidden"},children:d.substring(a,e.ident.start.column+h)}),(0,r.jsx)(i.Z,{sx:{bg:e===t?"#ff9632":"attention.muted",zIndex:e===t?10:void 0,color:e===t?"black":void 0,position:e===t?"relative":void 0,userSelect:"none",pointerEvents:"none"},children:(0,r.jsx)(i.Z,{sx:{visibility:e!==t?"hidden":void 0},id:s(e.lineNumber,e.ident.start.column+h),children:d.substring(e.ident.start.column+h,e.ident.end.column+h)})})]},`symbol-${e.ident.start.line}-${e.ident.start.column+h}`);return a=e.ident.end.column+h,n}),(0,r.jsx)(i.Z,{sx:{visibility:"hidden",userSelect:"none"},children:d.substring(a)})]},c)}function s(e,t){return`match-${e}-${t}`}try{o.displayName||(o.displayName="HighlightedOverlay")}catch{}},36405:(e,t,n)=>{n.r(t),n.d(t,{FileResultRow:()=>D,default:()=>A});var r=n(85893),l=n(211),i=n(86525),o=n(23180),s=n(79842),u=n(52674),a=n(15429),c=n(22326),d=n(77461),f=n(51952),h=n(85193),m=n(48542),p=n(13275),g=n(85529),v=n(17840),b=n(42483),w=n(51461),y=n(52516),x=n(73290),C=n(2708),E=n(74121),R=n(98833),S=n(97011),k=n(47142),j=n(67294),L=n(87294),N=n(15205);let M=(0,N.Z)(k.Gs);function O({data:e}){let{query:t,baseList:n,startTime:r}=e,l=t.replaceAll("\\",""),i=n.filter(e=>""===l||(0,k.CD)(l,e)&&M(l,e)>0).sort((e,t)=>M(l,t)-M(l,e));return{query:t,list:i,baseCount:n.length,startTime:r}}var $=n(94966),B=n(87623);async function T(e){let t=await (0,B.v)(e);return t.ok?await t.json():void 0}let F=new Map,I=(0,N.Z)(T,{cache:F});function A({onRenderRow:e,onItemSelected:t,searchBoxRef:n,onFindFilesShortcut:d,sx:g={},...E}){let{query:R,setQuery:S}=(0,l.aM)(),k=(0,u.H)(),N=j.useRef(null),M=n??N,[B,T]=j.useState(R.length>0),[F,A]=j.useState(!!R),{list:D,directories:H,loading:Z,error:V}=function(e){let t=(0,u.H)(),{refInfo:n}=(0,i.Br)(),[r,l]=(0,j.useState)({list:[],directories:[],loading:!0}),o=(0,c.a_)({repo:t,commitOid:n.currentOid,includeDirectories:!0});return(0,j.useEffect)(()=>{let t=!1,n=async()=>{l({list:[],directories:[],loading:!0});let e=await I(o);if(t)return;let n=e?.paths||[],r=e?.directories||[],i=n.concat(r).sort();l({list:i,directories:r,error:!e})};return e&&n(),function(){t=!0}},[o,e]),r}(B),{path:P}=(0,i.Br)(),{findFileWorkerPath:z}=(0,i.Ou)(),{getUrl:G}=(0,s.B)(),{queryText:U,queryLine:q}=function(e){e=e.replaceAll(" ","");let t=e.indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(R),{matches:K,clearMatches:Q}=function(e,t,n,r){let[l,i]=j.useState(),s=j.useRef(""),u=j.useRef(),{sendStats:a}=(0,o.a)(),c=j.useRef(!1),d=j.useCallback(()=>{let e=new L.V(n,O);e.onmessage=({data:e})=>{c.current=!1,i(e.list),s.current=e.query,e.startTime&&a("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},u.current=e},[a,n]);return j.useEffect(()=>{if(r)return d(),function(){u.current?.terminate()}},[d,r]),j.useEffect(()=>{if(e.length&&t){c.current&&(u.current?.terminate(),d());let n=s.current&&t.startsWith(s.current);c.current=!0,u.current?.postMessage({baseList:n&&l||e,query:t,startTime:performance.now()})}},[e,t,d]),{matches:l,clearMatches:()=>i(void 0)}}(D,U,z,B),{sendRepoClickEvent:X}=(0,o.a)(),Y=(0,h.s)(),[J,ee]=j.useState(0),[et,en]=j.useState((0,$.$t)()),er=j.useRef(null),el=j.useRef(null),ei="file-results-list",{sendRepoKeyDownEvent:eo}=(0,o.a)(),{screenSize:es}=(0,f.eI)(),eu=E.useOverlay||es>=f._G.large,ea=j.useCallback(()=>{X("FILE_TREE.SEARCH_RESULT_CLICK"),t?.(),A(!1)},[X,t]),{containerRef:ec}=(0,v.v)({bindKeys:m.Qw.ArrowVertical|m.Qw.HomeAndEnd,focusInStrategy:"previous"},[Z,V]);j.useEffect(()=>{R||A(!1)},[R]),j.useEffect(()=>{document.activeElement!==M.current&&eu&&A(!1)},[P,M,eu]);let ed=K?.slice(0,40)||[],ef=K&&K.length>ed.length,eh=(0,r.jsx)(b.Z,{sx:{maxHeight:eu?"60vh":"100% !important",overflowY:"auto",scrollbarGutter:"stable",maxWidth:"100vw","@media (max-width: 768px)":{ml:3,mr:2}},children:V?(0,r.jsx)(w.Z,{variant:"danger",sx:{m:3},children:"Failed to search"}):(0,r.jsxs)(y.S,{ref:ec,sx:{overflow:"auto",p:eu?2:3,width:"100%",pr:eu?3:0,pt:eu?3:"2px !important"},role:"listbox",children:[!Z&&ed.map((t,n)=>{let l=H.includes(t);return(0,r.jsx)(_,{active:t===P,index:n,focused:et&&J===n,match:t,onRender:e,query:U,onClick:ea,isDirectory:l,to:G({path:t,action:l?"tree":"blob",hash:q?`L${q}`:""}),useOverlay:eu,listRef:ec},t)}),(0,r.jsxs)(b.Z,{sx:{m:3,textAlign:"center"},children:[(0,r.jsx)(W,{loading:Z||!K,visibleResultCount:ed.length,truncated:!!ef}),ef&&(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(x.Z,{id:"see-all-results-link",className:"focus-visible",ref:er,href:(0,c.mY)({owner:k.ownerLogin,repo:k.name,searchTerm:`path:${U}`}),sx:et&&J===ed.length?{outline:"2px solid var(--focus-outlineColor, var(--color-accent-fg))",outlineOffset:"-2px",boxShadow:"none"}:{},children:"See all results"})]})]})]})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{ref:el,sx:{mx:2,ml:3,...g},children:(0,r.jsx)($.fh,{ariaActiveDescendant:(!eu&&R||eu&&F)&&et&&J>-1?ef&&J===ed.length?"see-all-results-link":`file-result-${J}`:void 0,ariaExpanded:eu?F:void 0,ariaHasPopup:eu,ariaControls:eu?ei:void 0,ref:M,query:R,onKeyDown:e=>{let{key:t,shiftKey:n,metaKey:r,altKey:l,ctrlKey:i}=e;if(!n&&!r&&!l){if("Escape"===t)R?(eo("FILE_TREE.CANCEL_SEARCH"),S(""),Q()):document.activeElement&&document.activeElement.blur();else if(!R)return;else if("Enter"===t)ef&&J===ed.length?Y((0,c.mY)({owner:k.ownerLogin,repo:k.name,searchTerm:`path:${U}`})):ed[J]&&(Y(G({path:ed[J],action:"blob",hash:q?`L${q}`:""})),A(!1));else if("ArrowDown"===t||i&&"n"===t){if(ef&&J>=ed.length-1){if(ee(ed.length),er.current&&ec.current){let e=(0,a.M)(ec.current);(0,p.z)(er.current,e,{behavior:"instant"})}}else ee(Math.min(J+1,ed.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){ee(Math.max(J-1,0)),e.preventDefault();return}}},onPreload:()=>T(!0),onSearch:e=>{S(e),e?A(!0):(Q(),A(!1)),ee(0)},onBlur:e=>{ec.current?.contains(e.relatedTarget)||(A(!1),en(!1))},onFocus:()=>{R&&A(!0),en(!0)},onFindFilesShortcut:d,sx:{minWidth:"160px"}})}),eu&&(0,r.jsx)(C.w,{anchorRef:el,open:eu&&F,renderAnchor:null,onClose:()=>{A(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:ei,role:"dialog"},children:eh}),!eu&&R&&eh]})}function W({visibleResultCount:e,truncated:t,loading:n}){return(0,r.jsx)("span",{role:"status",className:n||t||0===e?void 0:"sr-only","aria-label":n?"Loading":void 0,children:n?(0,r.jsx)(E.Z,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let D=({active:e,focused:t,index:n,match:l,query:i,to:o,isDirectory:s,onClick:u,onRender:c,useOverlay:f,listRef:h})=>{let m=(0,k.m7)(i,l);c?.();let g=j.useRef(null),v=s?H:Z;j.useEffect(()=>{if(t&&g.current&&h?.current){let e=(0,a.M)(h.current);(0,p.z)(g.current,e,{behavior:"instant"})}},[t,h]);let w={};return t&&(w={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"}),(0,r.jsx)(y.S.Item,{id:`file-result-${n}`,ref:g,as:d.r,onSelect:u,to:o,active:e,sx:{fontWeight:"normal",":hover":{textDecoration:"none"},mx:"2px",width:"calc(100% - 4px)",...w},role:"option","data-focus-visible-added":t||void 0,tabIndex:f?-1:0,children:(0,r.jsxs)(b.Z,{sx:{display:"flex"},children:[(0,r.jsx)(b.Z,{sx:{display:"flex",flexDirection:"column",overflow:"hidden",flexGrow:1},children:(0,r.jsx)(V,{text:l,positionsList:m,sx:{color:"fg.muted"},LeadingIcon:v})}),t&&(0,r.jsx)(b.Z,{sx:{pl:1,whiteSpace:"nowrap",color:"fg.muted"},children:`Go to ${s?"folder":"file"}`})]})},l)},H=()=>(0,r.jsx)(R.Z,{"aria-label":"Directory",icon:g.FileDirectoryFillIcon,sx:{color:"var(--color-icon-directory)",mr:2},size:"small"}),Z=()=>(0,r.jsx)(R.Z,{"aria-label":"File",icon:g.FileIcon,sx:{color:"fg.muted",mr:2},size:"small"}),_=j.memo(D);function V({text:e,positionsList:t,sx:n,LeadingIcon:l}){let i=[],o=0;for(let n of t){if(Number(n)!==n||n<o||n>e.length)continue;let t=e.slice(o,n);t&&i.push(P(t)),o=n+1,i.push((0,r.jsx)(S.Z,{as:"mark",sx:{fontWeight:"bold",background:"none",color:"fg.default"},children:e[n]},n))}return i.push(P(e.slice(o))),(0,r.jsx)(b.Z,{sx:n,children:(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)(l,{}),i]})})}function P(e){return e.replaceAll("/","/\u200B")}try{A.displayName||(A.displayName="FileResultsList")}catch{}try{W.displayName||(W.displayName="FileResultsStatus")}catch{}try{D.displayName||(D.displayName="FileResultRow")}catch{}try{H.displayName||(H.displayName="DirectoryIcon")}catch{}try{Z.displayName||(Z.displayName="FileResultIcon")}catch{}try{_.displayName||(_.displayName="MemoizedFileResultRow")}catch{}try{V.displayName||(V.displayName="HighlightMatch")}catch{}},94966:(e,t,n)=>{n.d(t,{$t:()=>v,fh:()=>p});var r=n(85893),l=n(46263),i=n(47357),o=n(29881),s=n(23180),u=n(71207),a=n(85529),c=n(51526),d=n(42483),f=n(67294),h=n(64227),m=n(77536);let p=f.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:n,ariaHasPopup:o,onBlur:u,onFocus:h,onKeyDown:m,onPreload:p,onSearch:b,query:w,onFindFilesShortcut:y,sx:x={}},C)=>{let{sendRepoClickEvent:E}=(0,s.a)(),[R,S]=f.useState(w),k=f.useRef((0,l.D)(e=>b(e),250));f.useEffect(()=>{S(w)},[w]);let j=w?(0,r.jsx)(c.Z.Action,{onClick:()=>{E("FILE_TREE.CANCEL_SEARCH"),b("")},icon:a.XCircleFillIcon,"aria-label":"Clear",sx:{color:"fg.subtle"}}):void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.I,{children:(0,r.jsx)(g,{inputRef:C,onFindFilesShortcut:y})}),(0,r.jsx)(c.Z,{autoFocus:v(),ref:C,value:R,onKeyDown:m,onChange:e=>{S(e.target.value),p(),k.current(e.target.value)},sx:{display:"flex",...x},"aria-label":"Go to file","aria-activedescendant":e,role:o?"combobox":void 0,"aria-controls":t,"aria-expanded":n,"aria-haspopup":o?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:a.SearchIcon,trailingAction:j,trailingVisual:j?void 0:()=>(0,r.jsx)(i.I,{children:(0,r.jsx)(d.Z,{sx:{mr:"-6px"},children:(0,r.jsx)("kbd",{children:"t"})})}),onFocus:e=>{p(),e.target.select(),h?.(e)},onBlur:u,onClick:()=>E("FILE_TREE.SEARCH_BOX")})]})});function g({inputRef:e,onFindFilesShortcut:t}){let{sendRepoKeyDownEvent:n}=(0,s.a)(),{findFilesShortcut:l}=(0,o.bx)();return(0,r.jsx)(m.P,{buttonFocusId:h.KG,buttonHotkey:l.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),n("GO_TO_FILE")}})}function v(){let e=new URLSearchParams(u.ssrSafeLocation.search);return"1"===e.get("search")}p.displayName="FilesSearchBox";try{g.displayName||(g.displayName="FindFilesShortcut")}catch{}},37086:(e,t,n)=>{n.d(t,{M:()=>o,Q:()=>s});var r=n(85893),l=n(67294);let i=l.createContext(void 0);function o({blame:e,children:t}){return(0,r.jsxs)(i.Provider,{value:e,children:[" ",t," "]})}function s(){return l.useContext(i)}try{i.displayName||(i.displayName="CurrentBlameContext")}catch{}try{o.displayName||(o.displayName="CurrentBlameProvider")}catch{}},46565:(e,t,n)=>{n.d(t,{K:()=>h,O:()=>p});var r=n(85893),l=n(56363),i=n(67294);let o=(0,l.Z)("localStorage"),s="codeView.codeFolding",u="codeView.codeWrapping",a="codeView.centerView",c="codeView.openSymbolsOnClick",d=new Map([[s,"Show code folding buttons"],[u,"Wrap lines"],[a,"Center content"],[c,"Open symbols on click"]]),f=(0,i.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),h=({children:e})=>{let t=m(s,!0),n=m(u,!1),l=m(a,!1),o=m(c,!0),d=(0,i.useMemo)(()=>({codeFoldingOption:t,codeWrappingOption:n,codeCenterOption:l,openSymbolsOption:o}),[t,n,l,o]);return(0,r.jsx)(f.Provider,{value:d,children:e})};function m(e,t){let n=o.getItem(e),[r,l]=(0,i.useState)(()=>n?"true"===n:t),s=d.get(e)||"";return{name:e,enabled:r,setEnabled:l,label:s}}function p(){return(0,i.useContext)(f)}try{f.displayName||(f.displayName="CodeViewOptionsContext")}catch{}try{h.displayName||(h.displayName="CodeViewOptionsProvider")}catch{}}}]);
//# sourceMappingURL=app_assets_modules_react-code-view_components_file-tree_FileResultsList_tsx-253fa2ed2130.js.map